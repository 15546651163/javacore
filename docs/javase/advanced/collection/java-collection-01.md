# Java 集合

## 概述

> 集合框架是一个用来代表和操纵集合的统一架构。所有的集合框架都包含如下内容：
>
> - **接口：**是代表集合的抽象数据类型。接口允许集合独立操纵其代表的细节。在面向对象的语言，接口通常形成一个层次。
> - **实现（类）：**是集合接口的具体实现。从本质上讲，它们是可重复使用的数据结构。
> - **算法：**是实现集合接口的对象里的方法执行的一些有用的计算，例如：搜索和排序。这些算法被称为多态，那是因为相同的方法可以在相似的接口上有着不同的实现。

### 特点

Java 中的容器框架有以下特点：

1. 容器为了应对不同的场景的**性能**需要，提供了多种**数据结构**的容器实现（如动态数组，链表，数，哈希表）。
2. 因为容器有很多功能相似，可能实现不同的方法（如添加、删除元素）。这些方法可以抽象出来，封装成**接口**或**抽象类**。
3. 框架易于扩展，Java 的容器库提供了丰富的**具体实现类**。程序员也在此基础上也可以扩展，定制化。
4. 利用**迭代器**和**比较器**可以对容器提供一套**通用性的算法**，例如：搜索和排序。

### 框架

![image.png](http://upload-images.jianshu.io/upload_images/3101171-437042196fcf2a34.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

***注：图中的短线虚线框表示抽象类，点虚线框表示接口。***

从 Java 容器库的框架图，不难看出容器库大致分为两类：

- **Collection**：一个独立元素的序列，这些元素都服从一条或多条规则。
- **Map**：一组成对的“键值对”对象，允许使用键来查找值。

## Collection

一个独立元素的序列，这些元素都服从一条或多条规则。

常见子接口：

- List<E>
- Queue<E>
- Set<E>

### List

**List** 必须按照插入的顺序保存元素。

List 有三种常见的实现类：

- ArrayList
- LinkedList
- Vector

### Set

**Set** 不保存重复的元素。

`Set` 有几个常见的实现类：

- HashSet：继承于AbstractSet，并且使用一个哈希表。
- LinkedHashSet：具有可预知迭代顺序的 Set 接口的哈希表和链接表实现。
- TreeSet： 继承于AbstractSet，使用元素的自然顺序对元素进行排序。

## Map

一组成对的“键值对”对象，允许使用键来查找值。

`Map` 常见子类：

- Hashtable：是 Java 中对哈希表的具体实现。
- HashMap：功能几乎和 Hashtable 一样，但是非线程安全并且允许 null 值存在。
- TreeMap：基于红黑树的实现。查看“键”或“键值对”时，它们会被排序（次序由Comparable或Comparator决定）。TreeMap的特点在于，所得到的结果是经过排序的。TreeMap是唯一的提供subMap()方法的Map，它可以返回一个子树。

## 迭代器

通常情况下，你会希望遍历一个集合中的元素。例如，显示集合中的每个元素。

一般遍历数组都是采用for循环或者增强for，这两个方法也可以用在集合框架，但是还有一种方法是采用迭代器遍历集合框架，它是一个对象，实现了Iterator 接口或ListIterator接口。

迭代器，使你能够通过循环来得到或删除集合的元素。ListIterator 继承了Iterator，以允许双向遍历列表和修改元素。

## 比较器

TreeSet和TreeMap的按照排序顺序来存储元素. 然而，这是通过比较器来精确定义按照什么样的排序顺序。

这个接口可以让我们以不同的方式来排序一个集合。